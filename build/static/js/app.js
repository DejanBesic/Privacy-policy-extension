!function(e){function t(t){for(var a,i,l=t[0],c=t[1],s=t[2],p=0,d=[];p<l.length;p++)i=l[p],r[i]&&d.push(r[i][0]),r[i]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);for(u&&u(t);d.length;)d.shift()();return o.push.apply(o,s||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],a=!0,l=1;l<n.length;l++){var c=n[l];0!==r[c]&&(a=!1)}a&&(o.splice(t--,1),e=i(i.s=n[0]))}return e}var a={},r={1:0},o=[];function i(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=a,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(n,a,function(t){return e[t]}.bind(null,a));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var l=window.webpackJsonp=window.webpackJsonp||[],c=l.push.bind(l);l.push=t,l=l.slice();for(var s=0;s<l.length;s++)t(l[s]);var u=c;o.push([36,0]),n()}({17:function(e,t,n){},18:function(e,t,n){"use strict";var a=n(3),r=n(4),o=n(7),i=n(5),l=n(6),c=n(0),s=n.n(c),u=(n(23),n(8)),p=n(9),d=n(20),m=n(15),f=n(21),v=n.n(f),b=n(11),g={settings:{cookies:{value:1,selected:!0,subSettings:{session:1,persistent:1,third_party:1}},personal_data:{value:1,selected:!0,subSettings:{email:1,address:1,credentials:1,contact_info:1,payment_info:1}},location:{value:1,selected:!0,subSettings:{gps:1,ip:1,sensor_data:1,nearby_info:1}},camera:{value:1,selected:!0,subSettings:{}},ssl:{value:1,selected:!0,subSettings:{}},microphone:{value:1,selected:!0,subSettings:{}},track_activity:{value:1,selected:!0,subSettings:{searching_terms:1,content:1,purchase_activity:1,people:1}},javascript:{value:1,selected:!0,subSettings:{}},downloads:{value:1,selected:!0,subSettings:{}},plug_ins:{value:1,selected:!0,subSettings:{}}}},h={xml:{},validated:{}},E=Object(p.c)({settings:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_SETTINGS":return Object(b.a)({},e,{settings:t.payload});default:return e}},xml:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"XML_LOAD":return Object(b.a)({},e,{xml:t.payload});case"VALIDATED":return Object(b.a)({},e,{validated:t.payload});default:return e}}}),y={key:"root",storage:v.a},O=Object(m.a)(y,E),j=Object(p.d)(O,{},Object(p.a)(d.a)),S=Object(m.b)(j),x=n(22),w=n(13),k=n(1),N=n(2),_=n(10),P=n.n(_),C=(n(17),function(e){return{payload:e,type:"UPDATE_SETTINGS"}}),T=function(e,t){return function(n,a){var r=Object.assign({},a().settings.settings);for(var o in r[e].value=t,r[e].selected=!0,r[e].subSettings)r[e].subSettings[o]=t;n(C(r))}},M=function(e,t,n){return function(a,r){var o=Object.assign({},r().settings.settings);o[e].selected=!1,o[e].subSettings[t]=n,a(C(o))}};function A(){var e=Object(k.a)(["\n  border-right: 0px;\n  border-left: 0px;  \n"]);return A=function(){return e},e}function L(){var e=Object(k.a)(["\n  padding: 8px;\n  border: 1px solid #eeeeee;\n  margin: auto;\n  bottom: 0px;\n  left: 0px;\n  right: 0px;\n  position: absolute;\n  cursor: pointer;\n  background-color: #e8e8e8;\n  text-align: center;\n"]);return L=function(){return e},e}function U(){var e=Object(k.a)(["\n  width: 100%;\n  margin: auto;\n  padding-bottom: 50px;\n  position: relative;\n  margin-top: 10px;\n"]);return U=function(){return e},e}function z(){var e=Object(k.a)(["\n  font-size: 16px;\n  padding-top: 20px;\n"]);return z=function(){return e},e}function D(){var e=Object(k.a)(["\n  width: 100%;\n  font-size: 16px;\n  margin-top: 10px;\n  border: 1px solid #eeeeee;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  border-left: 0px;\n  border-right: 0px;\n"]);return D=function(){return e},e}function G(){var e=Object(k.a)(["\n  width: 100%;\n  height: fit-content;\n"]);return G=function(){return e},e}var V=N.a.div(G()),B=N.a.input(D()),I=N.a.label(z()),W=N.a.div(U()),X=N.a.a(L()),J=Object(N.a)(P.a)(A()),K=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(o.a)(this,Object(i.a)(t).call(this,e))).onGroupSizeSelect=function(e){n.setState({refresh:!n.state.refresh}),n.props.onUpdateSettings(n.props.option,e)},n.viewMorePressed=function(){n.setState({showMoreToggled:!n.state.showMoreToggled})},n.state={showMoreToggled:!1,refresh:!1},n.onGroupSizeSelect=n.onGroupSizeSelect.bind(Object(w.a)(n)),n}return Object(l.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this,t=this.state.showMoreToggled,n=this.props,a=n.LabelText,r=n.Name,o=n.ViewMoreContent,i=n.settings,l=n.option,c=[{displayName:"Allow",value:1},{displayName:"Block",value:2},{displayName:"Ask",value:3}];return i[l].selected||(c[i[l].value-1].optionClass="myClass"),s.a.createElement(V,null,s.a.createElement(W,{className:"card card-3"},s.a.createElement(J,{options:c,selectedOption:i[l].value,onSelectOption:this.onGroupSizeSelect,label:r}),a?s.a.createElement("div",null,s.a.createElement(I,null,a),s.a.createElement(B,null)):null,o?s.a.createElement("div",null,t?s.a.createElement("div",null,s.a.createElement("h4",null,r," subsettings:"),o):null,s.a.createElement(X,{onClick:function(){return e.viewMorePressed()}},t?"Show less":"Show more")):null))}}]),t}(c.Component),R=Object(u.b)(function(e){return{settings:e.settings.settings}},function(e){return{onUpdateSettings:function(t,n){return e(T(t,n))}}})(K);function q(){var e=Object(k.a)(["\n  border-right: 0px;\n  border-left: 0px;\n"]);return q=function(){return e},e}function F(){var e=Object(k.a)(["\n  font-size: 14px;\n  padding-top: 20px;\n"]);return F=function(){return e},e}function $(){var e=Object(k.a)(["\n  width: 100%;\n  font-size: 14px;\n  margin-top: 10px;\n  border: 1px solid #eeeeee;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  border-left: 0px;\n  border-right: 0px;\n"]);return $=function(){return e},e}function H(){var e=Object(k.a)(["\n  width: 100%;\n  height: fit-content;\n"]);return H=function(){return e},e}var Q=N.a.div(H()),Y=N.a.input($()),Z=N.a.label(F()),ee=Object(N.a)(P.a)(q()),te=[{displayName:"Allow",value:1},{displayName:"Block",value:2},{displayName:"Ask",value:3}],ne=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(o.a)(this,Object(i.a)(t).call(this,e))).onGroupSizeSelect=function(e){n.props.onUpdateSubSettings(n.props.parent,n.props.option,e),n.setState({refresh:!n.state.refresh})},n.state={refresh:!1},n}return Object(l.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.LabelText,n=e.Name,a=e.settings,r=e.parent,o=e.option;return s.a.createElement(Q,null,s.a.createElement(ee,{options:te,selectedOption:a[r].subSettings[o],onSelectOption:this.onGroupSizeSelect,label:n}),t?s.a.createElement("div",null,s.a.createElement(Z,null,t),s.a.createElement(Y,null)):null)}}]),t}(c.Component),ae=Object(u.b)(function(e){return{settings:e.settings.settings}},function(e){return{onUpdateSubSettings:function(t,n,a){return e(M(t,n,a))}}})(ne),re=function(e){function t(){return Object(a.a)(this,t),Object(o.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{style:{width:500}},s.a.createElement(R,{Name:"Cookies",ViewMoreContent:s.a.createElement("div",null,s.a.createElement(ae,{parent:"cookies",option:"session",Name:"Session"}),s.a.createElement(ae,{parent:"cookies",option:"persistent",Name:"Persistent"}),s.a.createElement(ae,{parent:"cookies",option:"third_party",Name:"Third party"})),option:"cookies"}),s.a.createElement(R,{Name:"Personal data",ViewMoreContent:s.a.createElement("div",null,s.a.createElement(ae,{parent:"personal_data",option:"email",Name:"Email"}),s.a.createElement(ae,{parent:"personal_data",option:"address",Name:"Address"}),s.a.createElement(ae,{parent:"personal_data",option:"credentials",Name:"Credentials"}),s.a.createElement(ae,{parent:"personal_data",option:"contact_info",Name:"Contact info"}),s.a.createElement(ae,{parent:"personal_data",option:"payment_info",Name:"Payment info"})),option:"personal_data"}),s.a.createElement(R,{Name:"Location",ViewMoreContent:s.a.createElement("div",null,s.a.createElement(ae,{parent:"location",option:"gps",Name:"GPS"}),s.a.createElement(ae,{parent:"location",option:"ip",Name:"IP address"}),s.a.createElement(ae,{parent:"location",option:"sensor_data",Name:"Sensor data"}),s.a.createElement(ae,{parent:"location",option:"nearby_info",Name:"Nearby info"})),option:"location"}),s.a.createElement(R,{Name:"Camera",option:"camera"}),s.a.createElement(R,{Name:"Microphone",option:"microphone"}),s.a.createElement(R,{Name:"Tracking activity",ViewMoreContent:s.a.createElement("div",null,s.a.createElement(ae,{parent:"tracking_activity",option:"searching_terms",Name:"Tearms you search for"}),s.a.createElement(ae,{parent:"tracking_activity",option:"content",Name:"Videos, interactions with ads, audio"}),s.a.createElement(ae,{parent:"tracking_activity",option:"purchase_activity",Name:"Purchasing history"}),s.a.createElement(ae,{parent:"tracking_activity",option:"people",Name:"People"})),option:"track_activity"}),s.a.createElement(R,{Name:"Downloads",option:"downloads"}),s.a.createElement(R,{Name:"SSL",option:"ssl"}),s.a.createElement(R,{Name:"Javascript",option:"javascript"}),s.a.createElement(R,{Name:"Plug-ins",option:"plug_ins"}))}}]),t}(c.Component),oe=function e(t,n){if(0===t.children.length)return t.value;var a={};return t.children.map(function(t){a[t.name]=e(t,Object.assign({},a))}),a};function ie(){var e=Object(k.a)(["\n  float: right;\n"]);return ie=function(){return e},e}function le(){var e=Object(k.a)(["\n  padding: 2px;\n  background-color: ","\n  color: white;\n  cursor: pointer;\n  margin: 10px;\n  border-radius: 5px;\n"]);return le=function(){return e},e}function ce(){var e=Object(k.a)(["\n  color: ","\n  padding-top: 20px;\n"]);return ce=function(){return e},e}function se(){var e=Object(k.a)(["\n  color: ","\n  padding-top: 20px;\n"]);return se=function(){return e},e}function ue(){var e=Object(k.a)(["\n  padding-left: 23px;'\n"]);return ue=function(){return e},e}function pe(){var e=Object(k.a)(["\n  \n"]);return pe=function(){return e},e}function de(){var e=Object(k.a)([""]);return de=function(){return e},e}var me=N.a.div(de()),fe=N.a.div(pe()),ve=N.a.div(ue()),be=N.a.li(se(),function(e){return!1===e.selected?"#807b77":1===e.value?"#18922c":2===e.value?"red":"orange"}),ge=N.a.li(ce(),function(e){return 1===e.value?"#18922c":2===e.value?"red":"orange"}),he=N.a.a(le(),function(e){return 1===e.value?"#18922c":"red"}),Ee=N.a.span(ie());var ye=n(30),Oe=function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,l=new Array(r),c=0;c<r;c++)l[c]=arguments[c];return(n=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(l)))).fetchPolicies=function(e){var t=new URL(e).hostname,a=new URL(e).port;fetch("http://".concat(t,":").concat(a,"/dmpolicies/policy.xml"),{headers:{"Content-Type":"text/xml"}}).then(function(e){return e.text()}).then(function(e){var t=(new ye).parseFromString(e);n.props.onXmlLoad(t),n.props.validatePolicies()}).catch(function(e){return console.log(e)})},n.findKeys=function(e){var t=[];return Object.keys(e).forEach(function(e,n){t.push(e)}),t},n}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentWillMount",value:function(){var e;e=this.fetchPolicies,chrome.tabs.query({currentWindow:!0,active:!0},function(t){e(t[0].url)})}},{key:"render",value:function(){var e=this,t=this.props.xml.validated;if(!t||t.html)return null;if(!Object.keys(t).length)return null;var n=this.findKeys(t.policies);return s.a.createElement(me,null,s.a.createElement(fe,null,s.a.createElement("ul",null,s.a.createElement("li",null,t.publisher.name?"Publisher: ".concat(t.publisher.name):null," ",s.a.createElement("br",null)),s.a.createElement("li",null,t.publisher.email?"Email: ".concat(t.publisher.email):null,s.a.createElement("br",null)),s.a.createElement("li",null,t.publisher.contact?"Contact: ".concat(t.publisher.contact):null,s.a.createElement("br",null)),s.a.createElement("li",null,t.publisher.creation_date?"Creation date: ".concat(t.publisher.creation_date):null,s.a.createElement("br",null)))),s.a.createElement(ve,null,n.map(function(n){return s.a.createElement(be,{key:n,value:t.policies[n].value,selected:t.policies[n].selected},"Name: ",t.policies[n].name," ",s.a.createElement("br",null),s.a.createElement("span",{style:{paddingLeft:23}},"Description: ",t.policies[n].description),3===t.policies[n].value?s.a.createElement(Ee,null,s.a.createElement(he,{value:1,onClick:function(){e.props.onUpdateSettings(n,1),e.props.validatePolicies()}},"Allow"),s.a.createElement(he,{value:2,onClick:function(){e.props.onUpdateSettings(n,2),e.props.validatePolicies()}},"Block")):null,s.a.createElement("ul",null,e.findKeys(t.policies[n]).map(function(a){return t.policies[n][a].name?s.a.createElement(ge,{key:a,value:t.policies[n][a].value},t.policies[n][a].name," ",s.a.createElement("br",null),s.a.createElement("span",{style:{paddingLeft:23}},t.policies[n][a].description),3===t.policies[n][a].value?s.a.createElement(Ee,null,s.a.createElement(he,{onClick:function(){e.props.onUpdateSubSettings(n,a,1),e.props.validatePolicies()},value:1},"Allow"),s.a.createElement(he,{value:2,onClick:function(){e.props.onUpdateSubSettings(n,a,2),e.props.validatePolicies()}},"Block")):null):null})))})))}}]),t}(c.Component),je=Object(u.b)(function(e){return{settings:e.settings.settings,xml:e.xml}},function(e){return{onXmlLoad:function(t){return e((n=t,function(e,t){e({payload:n,type:"XML_LOAD"})}));var n},validatePolicies:function(){return e(function(e,t){var n=t().settings.settings,a=t().xml.xml,r=oe(a,{});for(var o in r.policies)for(var i in"string"==typeof r.policies[o]&&(r.policies[o]={}),r.policies[o].value=n[o].value,r.policies[o].selected=n[o].selected,r.policies[o])n[o].subSettings.hasOwnProperty(i)&&(r.policies[o][i].value=n[o].subSettings[i]);e({payload:r,type:"VALIDATED"})})},onUpdateSubSettings:function(t,n,a){return e(M(t,n,a))},onUpdateSettings:function(t,n){return e(T(t,n))}}})(Oe),Se=[{displayName:"Validation",value:1},{displayName:"Settings",value:2}],xe=function(e){function t(){var e;return Object(a.a)(this,t),(e=Object(o.a)(this,Object(i.a)(t).call(this))).state={selected:1},e}return Object(l.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement(u.a,{store:j},s.a.createElement(x.a,{persistor:S,loading:null},s.a.createElement("div",{style:{width:500}},s.a.createElement(P.a,{options:Se,selectedOption:this.state.selected,onSelectOption:function(t){return e.setState({selected:t})}}),1===this.state.selected?s.a.createElement(je,null):s.a.createElement(re,null))))}}]),t}(c.Component);t.a=xe},23:function(e,t,n){},36:function(e,t,n){e.exports=n(53)},41:function(e,t,n){},53:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(19),i=n.n(o),l=(n(41),n(18));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(l.a,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}});
//# sourceMappingURL=app.js.map